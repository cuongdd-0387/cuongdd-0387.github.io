window.__require=function t(e,i,n){function s(c,a){if(!i[c]){if(!e[c]){var l=c.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var d=i[c]={exports:{}};e[c][0].call(d.exports,function(t){return s(e[c][1][t]||t)},d,d.exports,t,e,i,n)}return i[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<n.length;c++)s(n[c]);return s}({ButtonAction:[function(t,e,i){"use strict";var n;cc._RF.push(e,"34affOggglLOLGXSpRSt5C0","ButtonAction"),n=cc.Enum(cc.macro.KEY),cc.Class({extends:cc.Component,properties:{interactable:{default:!0,tooltip:!1,notify:function(){this._updateState(),this.interactable||this._resetState()},animatable:!1},keyPress:{default:n.none,type:n},holdEvents:{default:[],type:cc.Component.EventHandler},downEvents:{default:[],type:cc.Component.EventHandler},upEvents:{default:[],type:cc.Component.EventHandler}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onUp,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},start:function(){this.isPress=!1},update:function(t){this.interactable&&this.enabledInHierarchy&&this._isPress&&cc.Component.EventHandler.emitEvents(this.holdEvents,this._event)},onDown:function(t){this.interactable&&this.enabledInHierarchy&&(this._event=t,this._isPress=!0,cc.Component.EventHandler.emitEvents(this.downEvents,this._event))},onUp:function(t){this.interactable&&this.enabledInHierarchy&&(this._event=t,this._isPress=!1,cc.Component.EventHandler.emitEvents(this.upEvents,this._event))},onKeyDown:function(t){t.keyCode==this.keyPress&&this.onDown(t)},onKeyUp:function(t){t.keyCode==this.keyPress&&this.onUp(t)}}),cc._RF.pop()},{}],GameManager:[function(t,e,i){"use strict";cc._RF.push(e,"3ebceCiKedLkIDFGIQ6YcXS","GameManager");var n=t("GenerateTiledmap"),s=t("TransitionEffect"),o=cc.Class({extends:cc.Component,properties:{transitionEffect:{default:null,type:s}},statics:{instance:null},onLoad:function(){o.instance=this,cc.director.getPhysicsManager().enabled=!0,this.player=null},start:function(){this.transitionEffect.fadeIn()},setPlayer:function(t){this.player=t,this.player.init(n.instance.getStartPos())},resetGame:function(){this.transitionEffect.fadeOut(function(){cc.director.loadScene("helloworld")})}});cc._RF.pop()},{GenerateTiledmap:"GenerateTiledmap",TransitionEffect:"TransitionEffect"}],GenerateTiledmap:[function(t,e,i){"use strict";cc._RF.push(e,"fb9a2ZihCJL76N+E7bcSP21","GenerateTiledmap");var n=cc.Class({extends:cc.Component,properties:{},statics:{instance:null},onLoad:function(){var t=this;n.instance=this,this.listObjects={},this._tiledMap=this.node.getComponent("cc.TiledMap");var e=this._tiledMap.getObjectGroup("Object").getObjects();if(e)for(var i=function(i,s){var o=e[i];if(o){t.listObjects[o.name]=cc.v2(o.x,o.y);var c=t.node.convertToNodeSpaceAR(cc.v2(o.x-25,o.y-20));"Start"!=o.name?cc.loader.loadRes("prefabs/objects/"+o.name,function(t,e){var i=cc.instantiate(e);i.parent=null,n.instance.node.addChild(i,0,o.name),i.position=c}):t.startPos=c}},s=0,o=e.length;s<o;s++)i(s)},getStartPos:function(){return this.startPos},start:function(){}});cc._RF.pop()},{}],HelloWorld:[function(t,e,i){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Xin Chao Anh Cuong!"},onLoad:function(){},update:function(t){}}),cc._RF.pop()},{}],NewScript:[function(t,e,i){"use strict";cc._RF.push(e,"a228bbuj7NPrrCaif2k1JPj","NewScript"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],PlayerEntity:[function(t,e,i){"use strict";cc._RF.push(e,"70296rx2v9Br7gKYhq7OkKl","PlayerEntity");var n=t("GameManager");cc.Class({extends:cc.Component,properties:{speedMove:{default:50},jumpPower:{default:100},jumpPowerX:{default:100},dust:{default:null,type:cc.ParticleSystem},dustRun:{default:null,type:cc.ParticleSystem}},onLoad:function(){this.Rigid_body=this.node.getComponent(cc.RigidBody),this.anim=this.getComponent(cc.Animation),this.anim.play()},init:function(t){this.node.position=t},start:function(){n.instance.setPlayer(this),this.isGround=!0,this.isDoubleJump=!1,this.isWallJump=!1,this.moveArrow=0},update:function(t){this.anim.getAnimationState("Run").isPlaying||this.anim.getAnimationState("WallJump").isPlaying?this.dustRun.emissionRate=10:this.dustRun.emissionRate=0,this.Rigid_body.linearVelocity=cc.v2(this.moveArrow*this.speedMove,this.Rigid_body.linearVelocity.y),Math.abs(this.Rigid_body.linearVelocity.y)>29?this.isGround&&(this.isGround=!1,this.isDoubleJump||this.anim.play("Jump")):this.isGround&&(Math.abs(this.Rigid_body.linearVelocity.x)>this.speedMove-1?this.anim.getAnimationState("Run").isPlaying||this.anim.play("Run"):this.anim.getAnimationState("Idle").isPlaying||this.anim.play("Idle")),this.Rigid_body.linearVelocity.x>29?this.node.scaleX=1:this.Rigid_body.linearVelocity.x<-29&&(this.node.scaleX=-1),this.Rigid_body.linearVelocity.y<-29&&this.isWallJump&&!this.isGround&&(this.anim.getAnimationState("WallJump").isPlaying||this.anim.play("WallJump"),this.Rigid_body.linearVelocity=cc.v2(this.Rigid_body.linearVelocity.x,-10))},onBeginContact:function(t,e,i){if(0==e.tag&&i.tag>=10&&i.tag<20){cc.log(i.tag);var s=i.node.position;i.node.destroy(),cc.loader.loadRes("prefabs/Collected",function(t,e){var i=cc.instantiate(e);cc.log(i.name+"pos = "+s),i.parent=null,n.instance.node.addChild(i,0,i.name),i.position=s})}0==e.tag&&20==i.tag&&(cc.log("ENEMYYYYYYYYYYYYYYYYY"),n.instance.resetGame()),2==e.tag&&(this.isGround=!0,this.isDoubleJump=!1),3==e.tag&&0==i.tag&&(this.isWallJump=!0,this.isGround||(this.Rigid_body.linearVelocity=cc.v2(0,this.Rigid_body.linearVelocity.y)))},onEndContact:function(t,e,i){3==e.tag&&0==i.tag&&(console.log("WallJump out = "+i.tag),this.isWallJump=!1,this.isGround||this.anim.play("Jump"))},moveHandle:function(t,e){this.isWallJump&&e==this.node.scaleX||(this.moveArrow=e)},jumpHandle:function(t,e){this.isDoubleJump||(this.Rigid_body.linearVelocity=cc.v2(this.Rigid_body.linearVelocity.x,0),console.log("jumpHandle"),this.Rigid_body.applyForceToCenter(cc.v2(0,this.jumpPower),!0),this.isGround&&this.dust.resetSystem()),this.isGround||this.isDoubleJump||(this.isDoubleJump=!0,this.isWallJump?this.anim.play("Jump"):this.anim.play("DoubleJump"))}}),cc._RF.pop()},{GameManager:"GameManager"}],SawMove:[function(t,e,i){"use strict";cc._RF.push(e,"02122vZJ0NMoKuzHBFZAdYW","SawMove"),cc.Class({extends:cc.Component,properties:{listPos:{default:[],type:cc.Vec2},indexPos:{default:0},duration:{default:1},delay:{default:0},easingType:{default:"linear"}},start:function(){this.moveToPath(this.listPos[this.indexPos])},update:function(t){},moveToPath:function(t){var e=this;cc.tween(this.node).to(this.duration,{position:t},{easing:this.easingType}).delay(this.delay).call(function(){e.indexPos++,e.indexPos>=e.listPos.length&&(e.indexPos=0),e.moveToPath(e.listPos[e.indexPos])}).start()}}),cc._RF.pop()},{}],TransitionEffect:[function(t,e,i){"use strict";cc._RF.push(e,"bf820TiwsxKpavFCkNDHlai","TransitionEffect"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.listChild=this.node.children},start:function(){},fadeIn:function(t,e){var i=this;cc.log("fadeIn"),null!=e&&(this.listChild=e);for(var n=function(){i.listChild[s].scale=cc.v2(3,3);var e=s;cc.tween(i.listChild[s]).delay(s/50).to(.5,{scale:0}).call(function(){e==i.listChild.length-1&&null!=t&&t(i.listChild)}).start()},s=0;s<this.listChild.length;s++)n()},fadeOut:function(t,e){var i=this;cc.log("fadeOut"),null!=e&&(this.listChild=e);for(var n=function(){i.listChild[s].scale=cc.v2(0,0);var e=s;cc.tween(i.listChild[s]).delay(s/50).to(.5,{scale:3}).call(function(){e==i.listChild.length-1&&null!=t&&t(null,i.listChild)}).start()},s=0;s<this.listChild.length;s++)n()}}),cc._RF.pop()},{}],"one-side-platform":[function(t,e,i){"use strict";cc._RF.push(e,"3fcb6PbsiZO0KUJ8YHGOkvU","one-side-platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(t,e,i){this._pointsCache;for(var n=i.body,s=e.body,o=t.getWorldManifold().points,c=this.pointVelPlatform,a=this.pointVelOther,l=this.relativeVel,r=this.relativePoint,d=0;d<o.length;d++){if(s.getLinearVelocityFromWorldPoint(o[d],c),n.getLinearVelocityFromWorldPoint(o[d],a),s.getLocalVector(a.subSelf(c),l),l.y<-32)return;if(l.y<32){s.getLocalPoint(o[d],r);var u=e.getAABB().height/2;if(r.y>u-3.2)return}}t.disabled=!0}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,i){"use strict";cc._RF.push(e,"4677fAyeTFNn50BIZHb4L9E","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["ButtonAction","GameManager","GenerateTiledmap","HelloWorld","NewScript","PlayerEntity","SawMove","TransitionEffect","one-side-platform","use_v2.1-2.2.1_cc.Toggle_event"]);